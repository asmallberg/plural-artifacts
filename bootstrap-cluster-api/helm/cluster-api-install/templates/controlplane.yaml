apiVersion: operator.cluster.x-k8s.io/v1alpha1
kind: ControlPlaneProvider
metadata:
  name: bootstrap-kubeadm
  namespace: capa-system
spec:
  version: {{ .Values.components.version }}
  secretName: aws-variables
  manager:
    syncPeriod: "120s"
  fetchConfig:
    url: https://github.com/kubernetes-sigs/cluster-api/releases/{{ .Values.components.version }}/control-plane-components.yaml
  deployment:
    containers:
      - name: manager
        args:
          # These are controller flags that are specific to a provider; usage
          # is reserved for advanced scenarios only.
          awscluster-concurrency: "12"
          awsmachine-concurrency: "11"