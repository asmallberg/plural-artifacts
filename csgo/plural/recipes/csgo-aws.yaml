name: csgo-aws
description: Installs CSGO game server
provider: AWS
dependencies:
- repo: bootstrap
  name: aws-k8s

sections:
- name: csgo
  configuration:
  - name: hostname
    documentation: domain on which you'd like to host your CS:GO server
    type: DOMAIN
  - name: token
    documentation: "your GSLT token required to expose the server. Can be generated here: https://steamcommunity.com/dev/managegameservers"
    type: STRING
  - name: password
    documentation: password that will be required when joining the server. Minimum 5 characters (leave empty to disable).
    type: STRING
    optional: true
    validation:
      type: REGEX
      regex: '^.{5,}$'
      message: password needs to have at least 5 characters
  - name: rconPassword
    documentation: password for RCON (remote console) access on the server. Minimum 5 characters.
    type: STRING
    validation:
      type: REGEX
      regex: '^.{5,}$'
      message: rcon password needs to have at least 5 characters
  - name: tickrate
    documentation: tickrate of your server
    type: STRING
    default: 128
    validation:
      type: REGEX
      regex: '^(64|128)*$'
      message: 'must be one of: 64, 128'
  - name: maxplayers
    documentation: how many slots should your server have
    type: STRING
    default: 10
  - name: fpsMax
    documentation: max fps config for your server
    type: STRING
    default: 300
  - name: port
    documentation: port on which your server will be exposed
    type: STRING
    default: 27015
  - name: gotvPort
    documentation: port on which your GO TV will be exposed
    type: STRING
    default: 27020
  items:
  - type: TERRAFORM
    name: kube
  - type: HELM
    name: csgo
